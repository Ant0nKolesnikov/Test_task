# Тесты к заданию 2.1 - Создание, Получение и Статистика объявлений

---

## Создание объявления

**ТК 1:**

**Название:** Проверка успешного создания объявления

**Предусловия:** API доступно и работает.

**Шаги:**
1.  Отправить POST-запрос на адрес `https://qa-internship.avito.com/api/1/item` с телом запроса:

    ```json
    {
      "sellerID": 111111,
      "name": "Test Ad",
      "price": 100,
      "statistics":{
        "contacts": 3,
        "likes": 123,
        "viewCount": 12
      }
    }
    ```

2.  Получить ответ от сервера.

**ОР:** Ответ сервера с кодом 200 содержит сообщение об успешном создании объявления и ID нового объявления. 

**ТК 2:** 
**Название:** Проверка успешного создания объявления с дробным значением цены 
**Предусловия:** API доступно и работает. 
**Шаги:** 

1.  Отправить POST-запрос на адрес `https://qa-internship.avito.com/api/1/item` с телом запроса:

 
    {
      "sellerID": 111111,
      "name": "Test Ad with Price",
      "price": 1.99,
      "statistics": {
        "contacts": 3,
        "likes": 123,
        "viewCount": 12
      }
    }
   

2.  Получить ответ от сервера.

**ОР:** Ответ сервера с кодом 200 содержит сообщение об успешном создании объявления и ID нового объявления. 

**ТК 3:** 
**Название:** Проверка создания объявления с отрицательными числовыми значениями (цена) 
**Предусловия:** API доступно и работает. 
**Шаги:**  
1.  Отправить POST-запрос на адрес `https://qa-internship.avito.com/api/1/item` с телом запроса:


    {
      "sellerID": 111111,
      "name": "Negative Price Ad",
      "price": -1,
      "statistics":{
        "contacts": 3,
        "likes": 123,
        "viewCount": 12
      }
    }

2.  Получить ответ от сервера.

**ОР:**  Ответ сервера с кодом 400 содержит информацию об ошибке, указывающую на недопустимое значение price.  Пример:

    
    {
      "result": {
        "messages": {
          "price": "Price must be positive"
        },
        "message": "Validation error"
      },
      "status": "400"
    }
   
 
**ТК 4:** 
**Название:** Проверка создания объявления с отрицательными числовыми значениями (статистика) 
**Предусловия:** API доступно и работает. 
**Шаги:** 
1.  Отправить POST-запрос на адрес `https://qa-internship.avito.com/api/1/item` с телом запроса:


    {
      "sellerID": 111111,
      "name": "Negative Stats Ad",
      "price": 10,
      "statistics":{
        "contacts": -3,
        "likes": -123,
        "viewCount": -12
      }
    }
2.  Получить ответ от сервера.

**ОР:**  Ответ сервера с кодом 400 содержит информацию об ошибке, указывающую на недопустимые значения в статистике (contacts, likes, viewCount).  Пример: 

    ```json
    {
      "result": {
        "messages": {
           "contacts": "Contacts must be non-negative",
           "likes": "Likes must be non-negative",
           "viewCount": "ViewCount must be non-negative"
        },
        "message": "Validation error"
      },
      "status": "400"
    }
    ```

**ТК 5:** 
**Название:** Попытка отправки запроса без поля `name`. 
**Предусловия:** API доступно. 
**Шаги:** 
1.  Отправить POST-запрос на адрес `https://qa-internship.avito.com/api/1/item` с телом запроса:
    {
      "sellerID": 111111,
      "price": 100,
      "statistics":{
        "contacts": 3,
        "likes": 123,
        "viewCount": 12
      }
    }
    
2.  Получить ответ от сервера.

**ОР:** Ответ сервера с кодом 400 содержит информацию об ошибке, указывающую на отсутствие обязательного поля `name`.  Пример: 


    {
      "result": {
        "messages": {
          "name": "Name is required"
        },
        "message": "Validation error"
      },
      "status": "400"
    }

---

## Получение объявления по ID

**ТК 6:** 
**Название:** Успешный запрос на получение объявления по валидному ID объявления 
**Предусловия:** API доступно, наличие валидного ID объявления. 
**Шаги:** 
1.  Отправить GET-запрос с указанием валидного ID, например: `https://qa-internship.avito.com/api/1/item/:563bd265-49d1-44da-b1ce-0e3a5d664da3`. (Замените пример ID на актуальный)
2.  Получить ответ от сервера.

**ОР:** Ответ от сервера с кодом 200 в теле ответа содержит данные по выбранному объявлению, поле `id` имеет значение, соответствующее запрошенному ID. 

**ТК 7:** 
**Название:** Попытка отправки запроса на получение объявления по невалидному ID объявления 
**Предусловия:** API доступно, наличие невалидного ID. 
**Шаги:** 
1.  Отправить GET-запрос с указанием невалидного ID, например: `https://qa-internship.avito.com/api/1/item/:invalid-id`.  (Замените пример ID на некорректный)
2.  Получить ответ от сервера.

**ОР:** Ответ от сервера с кодом 404 (Not Found) в теле ответа содержит информацию об ошибке.  Пример: 

    {
      "result": {
        "messages": {},
        "message": "Item not found"
      },
      "status": "404"
    }


---

## Получение объявлений по ID продавца

**ТК 8:** 
**Название:** Успешный запрос на получение объявлений продавца по валидному ID продавца. 
**Предусловия:** API доступно, наличие валидного ID продавца. 
**Шаги:** 
1.  Отправить GET-запрос с указанием валидного ID продавца, например: `https://qa-internship.avito.com/api/1/111113/item` (Замените 111113 на валидный ID продавца)
2.  Получить ответ от сервера.

**ОР:** Ответ от сервера с кодом 200 в теле ответа содержит данные с объявлениями выбранного продавца, во всех объявлениях поле `sellerId` имеет значение, соответствующее запрошенному ID продавца.
 
**ТК 9:** 
**Название:** Попытка получения объявлений продавца по невалидному ID продавца. 
**Предусловия:** API доступно, наличие невалидного ID продавца. 
**Шаги:** 
1.  Отправить GET-запрос с указанием невалидного ID продавца, например: `https://qa-internship.avito.com/api/1/invalid_id/item` (Замените `invalid_id` на некорректный ID продавца)
2.  Получить ответ от сервера.
 
**ОР:** Ответ от сервера с кодом 400 (Bad Request) в теле ответа содержит информацию об ошибке. Пример: 


    {
        "result": {
            "message": "Invalid seller ID format",
            "messages": {}
        },
        "status": "400"
    }

---

## Получение статистики по ID объявления

**ТК 10:** 
**Название:** Успешный запрос на получение статистики объявления по валидному ID объявления. 
**Предусловия:** API доступно, наличие валидного ID объявления. 
**Шаги:** 
1.  Отправить GET-запрос с указанием валидного ID, например: `https://qa-internship.avito.com/api/1/statistic/ff23c626-874e-406d-90ed-f29d99144f0f` (Замените пример ID на актуальный).
2.  Получить ответ от сервера.

**ОР:** Ответ от сервера с кодом 200, в теле ответа содержатся верные данные со статистикой объявления с указанным ID. 
 
**ТК 11:** 
**Название:** Попытка получения статистики объявления по невалидному ID объявления. 
**Предусловия:** API доступно, наличие невалидного ID объявления. 
**Шаги:** 
1.  Отправить GET-запрос с указанием невалидного ID, например: `https://qa-internship.avito.com/api/1/11111G/item`
2.  Получить ответ от сервера.

**ОР:** Ответ от сервера с кодом 404 (Not Found) в теле ответа содержит информацию об ошибке.  Пример: 

    {
        "result": {
            "message": "Statistic not found",
            "messages": null
        },
        "status": "404"
    }
